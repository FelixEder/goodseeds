{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\")),\n    _propTypes = _interopRequireDefault(require(\"prop-types\")),\n    _createFirebaseInstance = _interopRequireDefault(require(\"./createFirebaseInstance\")),\n    _ReactReduxFirebaseContext = _interopRequireDefault(require(\"./ReactReduxFirebaseContext\")),\n    _ReduxFirestoreProvider = _interopRequireDefault(require(\"./ReduxFirestoreProvider\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  return _extends = Object.assign || function (target) {\n    for (var source, i = 1; i < arguments.length; i++) for (var key in source = arguments[i], source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n\n    return target;\n  }, _extends.apply(this, arguments);\n}\n\nfunction ReactReduxFirebaseProvider() {\n  var props = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : {},\n      children = props.children,\n      config = props.config,\n      dispatch = props.dispatch,\n      firebase = props.firebase,\n      initializeAuth = props.initializeAuth,\n      createFirestoreInstance = props.createFirestoreInstance,\n      extendedFirebaseInstance = _react.default.useMemo(function () {\n    var extendedFirebaseInstance = (0, _createFirebaseInstance.default)(firebase, config, dispatch);\n    return initializeAuth && extendedFirebaseInstance.initializeAuth(), extendedFirebaseInstance;\n  }, [firebase, config, dispatch]);\n\n  return createFirestoreInstance ? _react.default.createElement(_ReactReduxFirebaseContext.default.Provider, {\n    value: extendedFirebaseInstance\n  }, _react.default.createElement(_ReduxFirestoreProvider.default, _extends({}, props, {\n    initializeAuth: !1\n  }), children)) : _react.default.createElement(_ReactReduxFirebaseContext.default.Provider, {\n    value: extendedFirebaseInstance\n  }, children);\n}\n\nReactReduxFirebaseProvider.defaultProps = {\n  initializeAuth: !0\n}, ReactReduxFirebaseProvider.propTypes = {\n  children: _propTypes.default.node,\n  config: _propTypes.default.object.isRequired,\n  dispatch: _propTypes.default.func.isRequired,\n  firebase: _propTypes.default.object.isRequired,\n  initializeAuth: _propTypes.default.bool,\n  createFirestoreInstance: _propTypes.default.func\n};\nvar _default = ReactReduxFirebaseProvider;\nexports.default = _default, module.exports = exports.default;","map":{"version":3,"sources":["../src/ReactReduxFirebaseProvider.js"],"names":["props","children","config","dispatch","firebase","initializeAuth","createFirestoreInstance","extendedFirebaseInstance","React","ReactReduxFirebaseProvider","PropTypes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAmBA;;AAAA,SAAA,0BAAA,GAAgD;AAAZA,MAAAA,KAAY,GAAA,IAAA,SAAA,CAAA,MAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAARA;AAAAA,MAEhCC,QAF4C,GAQ1CD,KAR0C,CAAA,QAAZA;AAAAA,MAGhCE,MAH4C,GAQ1CF,KAR0C,CAAA,MAAZA;AAAAA,MAIhCG,QAJ4C,GAQ1CH,KAR0C,CAAA,QAAZA;AAAAA,MAKhCI,QAL4C,GAQ1CJ,KAR0C,CAAA,QAAZA;AAAAA,MAMhCK,cAN4C,GAQ1CL,KAR0C,CAAA,cAAZA;AAAAA,MAOhCM,uBAP4C,GAQ1CN,KAR0C,CAAA,uBAAZA;AAAAA,MAS5BO,wBAAwB,GAAGC,MAAAA,CAAAA,OAAAA,CAAAA,OAAAA,CAC/B,YAAM;AACJ,QAAMD,wBAAwB,GAAG,CAAA,GAAA,uBAAA,CAAA,OAAA,EAAA,QAAA,EAAA,MAAA,EAAjC,QAAiC,CAAjC;AAKIF,WAAAA,cAGJ,IAFEE,wBAAwB,CAAxBA,cAAAA,EADEF,EAGGE,wBAHHF;AAPyBG,GAAAA,EAY/B,CAAA,QAAA,EAAA,MAAA,EArB4C,QAqB5C,CAZ+BA,CATCR;;AAAY,SAwB1CM,uBAxB0C,GA0B1C,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAD,OAAC,CAAD,QAAA,EAAA;AAAoC,IAAA,KAAK,EAAzC;AAAA,GAAA,EACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,uBAAA,CAAD,OAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAA;AAAmC,IAAA,cAAc,EAAA,CAAjD;AAAA,GAAA,CAAA,EA3BwC,QA2BxC,CADF,CA1B0C,GAkC5C,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAD,OAAC,CAAD,QAAA,EAAA;AAAoC,IAAA,KAAK,EAAzC;AAAA,GAAA,EAAA,QAAA,CAlC4C;AAwChDG;;AAAAA,0BAA0B,CAA1BA,YAAAA,GAA0C;AACxCJ,EAAAA,cAAc,EAAA,CAD0B;AAAA,CAA1CI,EAIAA,0BAA0B,CAA1BA,SAAAA,GAAuC;AACrCR,EAAAA,QAAQ,EAAES,UAAAA,CAAAA,OAAAA,CAD2B,IAAA;AAErCR,EAAAA,MAAM,EAAEQ,UAAAA,CAAAA,OAAAA,CAAAA,MAAAA,CAF6B,UAAA;AAGrCP,EAAAA,QAAQ,EAAEO,UAAAA,CAAAA,OAAAA,CAAAA,IAAAA,CAH2B,UAAA;AAIrCN,EAAAA,QAAQ,EAAEM,UAAAA,CAAAA,OAAAA,CAAAA,MAAAA,CAJ2B,UAAA;AAKrCL,EAAAA,cAAc,EAAEK,UAAAA,CAAAA,OAAAA,CALqB,IAAA;AAMrCJ,EAAAA,uBAAuB,EAAEI,UAAAA,CAAAA,OAAAA,CANY;AAAA,CAJvCD;eAaeA,0B","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport createFirebaseInstance from './createFirebaseInstance'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\nimport ReduxFirestoreProvider from './ReduxFirestoreProvider'\n\n/**\n * @description Provider for context containing extended firebase\n * instance created by react-redux-firebase.\n * @param {object} props - Component props\n * @param {object} props.config - react-redux-firebase config\n * @param {Function} props.dispatch - Redux's dispatch function\n * @param {object} props.firebase - Firebase library\n * @param {boolean} props.initializeAuth - Whether or not to initialize auth\n * @param {Function} props.createFirestoreInstance - Function for creating\n * extended firestore instance\n * @returns {React.Context.Provider} Provider for react-redux-firebase context\n * @see https://react-redux-firebase.com/api/docs/ReactReduxFirebaseProvider.html\n */\nfunction ReactReduxFirebaseProvider(props = {}) {\n  const {\n    children,\n    config,\n    dispatch,\n    firebase,\n    initializeAuth,\n    createFirestoreInstance\n  } = props\n  const extendedFirebaseInstance = React.useMemo(\n    () => {\n      const extendedFirebaseInstance = createFirebaseInstance(\n        firebase,\n        config,\n        dispatch\n      )\n      if (initializeAuth) {\n        extendedFirebaseInstance.initializeAuth()\n      }\n      return extendedFirebaseInstance\n    },\n    [firebase, config, dispatch]\n  )\n  // Initialize auth if not disabled\n  if (createFirestoreInstance) {\n    return (\n      <ReactReduxFirebaseContext.Provider value={extendedFirebaseInstance}>\n        <ReduxFirestoreProvider {...props} initializeAuth={false}>\n          {children}\n        </ReduxFirestoreProvider>\n      </ReactReduxFirebaseContext.Provider>\n    )\n  }\n  return (\n    <ReactReduxFirebaseContext.Provider value={extendedFirebaseInstance}>\n      {children}\n    </ReactReduxFirebaseContext.Provider>\n  )\n}\n\nReactReduxFirebaseProvider.defaultProps = {\n  initializeAuth: true\n}\n\nReactReduxFirebaseProvider.propTypes = {\n  children: PropTypes.node,\n  config: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  firebase: PropTypes.object.isRequired,\n  initializeAuth: PropTypes.bool,\n  createFirestoreInstance: PropTypes.func\n}\n\nexport default ReactReduxFirebaseProvider\n"]},"metadata":{},"sourceType":"script"}