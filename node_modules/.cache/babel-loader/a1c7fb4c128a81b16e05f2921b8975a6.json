{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports.default = withFirestore;\n\nvar _react = _interopRequireDefault(require(\"react\")),\n    _hoistNonReactStatics = _interopRequireDefault(require(\"hoist-non-react-statics\")),\n    _utils = require(\"./utils\"),\n    _ReactReduxFirebaseContext = _interopRequireDefault(require(\"./ReactReduxFirebaseContext\")),\n    _ReduxFirestoreContext = _interopRequireDefault(require(\"./ReduxFirestoreContext\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  return _extends = Object.assign || function (target) {\n    for (var source, i = 1; i < arguments.length; i++) for (var key in source = arguments[i], source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n\n    return target;\n  }, _extends.apply(this, arguments);\n}\n\nfunction withFirestore(WrappedComponent) {\n  function WithFirestore(props) {\n    return _react.default.createElement(_ReactReduxFirebaseContext.default.Consumer, null, function (firebase) {\n      return _react.default.createElement(_ReduxFirestoreContext.default.Consumer, null, function (firestore) {\n        return _react.default.createElement(WrappedComponent, _extends({\n          firestore: firestore,\n          firebase: firebase,\n          dispatch: firebase.dispatch\n        }, props));\n      });\n    });\n  }\n\n  return WithFirestore.displayName = (0, _utils.wrapDisplayName)(WrappedComponent, \"withFirestore\"), WithFirestore.wrappedComponent = WrappedComponent, (0, _hoistNonReactStatics.default)(WithFirestore, WrappedComponent);\n}\n\nmodule.exports = exports.default;","map":{"version":3,"sources":["../src/withFirestore.js"],"names":["firebase","WithFirestore","WrappedComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyDe;;AAAA,SAAA,aAAA,CAAA,gBAAA,EAAyC;AAMtD,WAAA,aAAA,CAAA,KAAA,EAA8B;AAC5B,WACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAD,OAAC,CAAD,QAAA,EAAA,IAAA,EACG,UAAA,QAAA,EAAQ;AAAA,aACP,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,sBAAA,CAAD,OAAC,CAAD,QAAA,EAAA,IAAA,EACG,UAAA,SAAA,EAAS;AAAA,eACR,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,gBAAA,EAAA,QAAA,CAAA;AACE,UAAA,SAAS,EADX,SAAA;AAEE,UAAA,QAAQ,EAFV,QAAA;AAGE,UAAA,QAAQ,EAAEA,QAAQ,CAHpB;AAAA,SAAA,EADQ,KACR,CAAA,CADQ;AAFL,OACP,CADO;AADX,KAAA,CADF;AAkBFC;;AAAAA,SAAAA,aAAa,CAAbA,WAAAA,GAA4B,CAAA,GAAA,MAAA,CAAA,eAAA,EAAA,gBAAA,EAAA,eAAA,CAA5BA,EACAA,aAAa,CAAbA,gBAAAA,GAAiCC,gBADjCD,EAGO,CAAA,GAAA,qBAAA,CAAA,OAAA,EAAA,aAAA,EAAA,gBAAA,CAHPA","sourcesContent":["import React from 'react'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { wrapDisplayName } from './utils'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\nimport ReduxFirestoreContext from './ReduxFirestoreContext'\n\n/**\n * @augments React.Component\n * @description Higher Order Component that attaches `firestore`, `firebase`\n * and `dispatch` as props to React Components.\n * @param {React.Component} WrappedComponent - React component to wrap\n * @returns {Function} - Which accepts a component to wrap and returns the\n * wrapped component\n * @see http://react-redux-firebase.com/docs/api/withFirestore.html\n * @example <caption>Basic</caption>\n * import React from 'react'\n * import { withFirestore } from 'react-redux-firebase'\n *\n * function AddTodo({ firestore: { add } }) {\n *   return (\n *     <div>\n *       <button onClick={() => add('todos', { done: false, text: 'Sample' })}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * export default withFirestore(AddTodo)\n * @example <caption>Within HOC Composition</caption>\n * import React from 'react'\n * import { compose } from 'redux' // can also come from recompose\n * import { withHandlers } from 'recompose'\n * import { withFirestore } from 'react-redux-firebase'\n *\n * function AddTodo({ addTodo }) {\n *   return (\n *     <div>\n *       <button onClick={addTodo}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * const enhance = compose(\n *   withFirestore,\n *   withHandlers({\n *     addTodo: props => () => {\n *       const newTodo = { done: false, text: 'Sample' }\n *       return props.firestore.add({ collection: 'todos' }, newTodo)\n *     }\n *   })\n * )\n *\n * export default enhance(AddTodo)\n */\nexport default function withFirestore(WrappedComponent) {\n  /**\n   * WithFirebase wrapper component\n   * @param {object} props - Component props\n   * @returns {React.Component} WrappedComponent wrapped with firebase context\n   */\n  function WithFirestore(props) {\n    return (\n      <ReactReduxFirebaseContext.Consumer>\n        {firebase => (\n          <ReduxFirestoreContext.Consumer>\n            {firestore => (\n              <WrappedComponent\n                firestore={firestore}\n                firebase={firebase}\n                dispatch={firebase.dispatch}\n                {...props}\n              />\n            )}\n          </ReduxFirestoreContext.Consumer>\n        )}\n      </ReactReduxFirebaseContext.Consumer>\n    )\n  }\n\n  WithFirestore.displayName = wrapDisplayName(WrappedComponent, 'withFirestore')\n  WithFirestore.wrappedComponent = WrappedComponent\n\n  return hoistStatics(WithFirestore, WrappedComponent)\n}\n"]},"metadata":{},"sourceType":"script"}