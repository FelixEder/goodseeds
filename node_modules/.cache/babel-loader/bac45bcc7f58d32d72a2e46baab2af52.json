{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wrapInDispatch = wrapInDispatch;\nexports.mapWithFirebaseAndDispatch = mapWithFirebaseAndDispatch;\n\nvar _mapValues2 = _interopRequireDefault(require(\"lodash/mapValues\"));\n\nvar _isObject2 = _interopRequireDefault(require(\"lodash/isObject\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction makePayload(_ref, valToPass) {\n  var payload = _ref.payload;\n  return typeof payload === 'function' ? payload(valToPass) : payload;\n}\n\nfunction wrapInDispatch(dispatch, _ref2) {\n  var ref = _ref2.ref,\n      _ref2$meta = _ref2.meta,\n      meta = _ref2$meta === void 0 ? {} : _ref2$meta,\n      method = _ref2.method,\n      _ref2$args = _ref2.args,\n      args = _ref2$args === void 0 ? [] : _ref2$args,\n      types = _ref2.types;\n\n  var _types = _slicedToArray(types, 3),\n      requestingType = _types[0],\n      successType = _types[1],\n      errorType = _types[2];\n\n  dispatch({\n    type: (0, _isObject2.default)(requestingType) ? requestingType.type : requestingType,\n    meta: meta,\n    payload: (0, _isObject2.default)(requestingType) ? requestingType.payload : {\n      args: args\n    }\n  });\n  return ref[method].apply(ref, _toConsumableArray(args)).then(function (result) {\n    var successIsObject = (0, _isObject2.default)(successType);\n    var actionObj = {\n      type: successIsObject ? successType.type : successType,\n      meta: meta,\n      payload: successIsObject && successType.payload ? makePayload(successType, result) : {\n        args: args\n      }\n    };\n\n    if (successIsObject && successType.preserve) {\n      actionObj.preserve = successType.preserve;\n    }\n\n    if (successIsObject && successType.merge) {\n      actionObj.merge = successType.merge;\n    }\n\n    dispatch(actionObj);\n    return result;\n  }).catch(function (err) {\n    dispatch({\n      type: errorType,\n      meta: meta,\n      payload: err\n    });\n    return Promise.reject(err);\n  });\n}\n\nfunction createWithFirebaseAndDispatch(firebase, dispatch) {\n  return function (func) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return func.apply(firebase, [firebase, dispatch].concat(args));\n    };\n  };\n}\n\nfunction mapWithFirebaseAndDispatch(firebase, dispatch, actions, aliases) {\n  var withFirebaseAndDispatch = createWithFirebaseAndDispatch(firebase, dispatch);\n  return _objectSpread({}, (0, _mapValues2.default)(actions, withFirebaseAndDispatch), {}, aliases.reduce(function (acc, _ref3) {\n    var action = _ref3.action,\n        name = _ref3.name;\n    return _objectSpread({}, acc, _defineProperty({}, name, withFirebaseAndDispatch(action)));\n  }, {}));\n}","map":{"version":3,"sources":["/Users/Lara/Documents/Kurser/VT20/Dynwebb/goodseeds/node_modules/redux-firestore/es/utils/actions.js"],"names":["Object","defineProperty","exports","value","wrapInDispatch","mapWithFirebaseAndDispatch","_mapValues2","_interopRequireDefault","require","_isObject2","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","arr2","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","makePayload","_ref","valToPass","payload","dispatch","_ref2","ref","_ref2$meta","meta","method","_ref2$args","args","types","_types","requestingType","successType","errorType","type","then","result","successIsObject","actionObj","preserve","merge","catch","Promise","reject","createWithFirebaseAndDispatch","firebase","func","_len","_key","concat","actions","aliases","withFirebaseAndDispatch","reduce","acc","_ref3","action","name"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wrapInDispatch = wrapInDispatch;\nexports.mapWithFirebaseAndDispatch = mapWithFirebaseAndDispatch;\n\nvar _mapValues2 = _interopRequireDefault(require(\"lodash/mapValues\"));\n\nvar _isObject2 = _interopRequireDefault(require(\"lodash/isObject\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction makePayload(_ref, valToPass) {\n  var payload = _ref.payload;\n  return typeof payload === 'function' ? payload(valToPass) : payload;\n}\n\nfunction wrapInDispatch(dispatch, _ref2) {\n  var ref = _ref2.ref,\n      _ref2$meta = _ref2.meta,\n      meta = _ref2$meta === void 0 ? {} : _ref2$meta,\n      method = _ref2.method,\n      _ref2$args = _ref2.args,\n      args = _ref2$args === void 0 ? [] : _ref2$args,\n      types = _ref2.types;\n\n  var _types = _slicedToArray(types, 3),\n      requestingType = _types[0],\n      successType = _types[1],\n      errorType = _types[2];\n\n  dispatch({\n    type: (0, _isObject2.default)(requestingType) ? requestingType.type : requestingType,\n    meta: meta,\n    payload: (0, _isObject2.default)(requestingType) ? requestingType.payload : {\n      args: args\n    }\n  });\n  return ref[method].apply(ref, _toConsumableArray(args)).then(function (result) {\n    var successIsObject = (0, _isObject2.default)(successType);\n    var actionObj = {\n      type: successIsObject ? successType.type : successType,\n      meta: meta,\n      payload: successIsObject && successType.payload ? makePayload(successType, result) : {\n        args: args\n      }\n    };\n\n    if (successIsObject && successType.preserve) {\n      actionObj.preserve = successType.preserve;\n    }\n\n    if (successIsObject && successType.merge) {\n      actionObj.merge = successType.merge;\n    }\n\n    dispatch(actionObj);\n    return result;\n  }).catch(function (err) {\n    dispatch({\n      type: errorType,\n      meta: meta,\n      payload: err\n    });\n    return Promise.reject(err);\n  });\n}\n\nfunction createWithFirebaseAndDispatch(firebase, dispatch) {\n  return function (func) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return func.apply(firebase, [firebase, dispatch].concat(args));\n    };\n  };\n}\n\nfunction mapWithFirebaseAndDispatch(firebase, dispatch, actions, aliases) {\n  var withFirebaseAndDispatch = createWithFirebaseAndDispatch(firebase, dispatch);\n  return _objectSpread({}, (0, _mapValues2.default)(actions, withFirebaseAndDispatch), {}, aliases.reduce(function (acc, _ref3) {\n    var action = _ref3.action,\n        name = _ref3.name;\n    return _objectSpread({}, acc, _defineProperty({}, name, withFirebaseAndDispatch(action)));\n  }, {}));\n}"]},"metadata":{},"sourceType":"script"}